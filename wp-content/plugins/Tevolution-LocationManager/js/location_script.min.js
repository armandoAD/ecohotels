function set_default_city(e,t){var t=t,i=jQuery("#"+e.id).attr("class");jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=default_city&city_id="+t,success:function(e){jQuery("#city_default_"+t).css({"font-weight":"bold"}),jQuery("#city_default_"+t).after('&nbsp;<span style="color:green;" class="default_city" id="set_default_city_'+t+'">Default City</span>'),jQuery("#city_default_"+e).removeAttr("style"),jQuery("#set_default_city_"+e).remove(),jQuery("#default_city_name").html("Default City ("+i+")")}})}function change_default_city_set(e){"location_tracking"==e.value?(jQuery("#location_tracking").show(),jQuery("#default_city_set_msg").hide(),jQuery("#nearest_city_set_msg").hide()):"nearest_city"==e.value?(jQuery("#location_tracking").hide(),jQuery("#default_city_set_msg").hide(),jQuery("#nearest_city_set_msg").show()):(jQuery("#location_tracking").hide(),jQuery("#nearest_city_set_msg").hide(),jQuery("#default_city_set_msg").show())}function show_colorpicker(e){document.getElementsByName(e)[0].style.display=""}function fill_zones_cmb(e,t){var i=e.value,a="";1==t&&(a="&front=1"),""!=jQuery("select#city_id option:selected").val()&&jQuery("select#city_id option:selected").remove(),document.getElementById("process_state").style.display="",jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=fill_states_cmb&country_id="+i+a,success:function(e){if(document.getElementById("process_state").style.display="none",jQuery("#zones_id").html(e),""!=jQuery("select#zones_id option:selected").val())jQuery("form#submit_form select#zones_id").trigger("change"),fill_city_cmb(jQuery("select#zones_id option:selected").val());else{var t=jQuery("#zones_id option").first();jQuery("#zones_id + span.select").text(t.text());var i=jQuery("#city_id option").first();jQuery("#city_id + span.select").text(i.text())}}})}function fill_city_cmb(e){var t=""!=e.value&&jQuery.isNumeric(e.value)?e.value:e;if(document.getElementById("process_city").style.display="",""==t){var i=document.getElementById("country_id");fill_multicity_cmb(i,"")}else jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=fill_city_cmb&state_id="+t,success:function(e){document.getElementById("process_city").style.display="none",jQuery("#city_id").html(e),jQuery("form#submit_form select#city_id").trigger("change")}})}function fill_multicity_cmb(e,t){var i=e.value,a="";1==t&&(a="&front=1"),document.getElementById("process_city").style.display="",jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=fill_multicity_cmb&country_id="+i+a,success:function(e){document.getElementById("process_city").style.display="none",jQuery("#city_id").html(e),jQuery("form#submit_form select#city_id").trigger("change")}})}function setCookie(e,t,i){if(i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var r="; expires="+a.toGMTString()}else var r="";document.cookie=e+"="+t+r+"; path=/"}function getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var r=i[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function deleteCookie(e){setCookie(e,"",-1)}function manage_city_validation(){jQuery.noConflict();var e=jQuery("#country_id").val(),t=jQuery("#zones_id").val(),i=jQuery("#address").val(),a=0;jQuery("input[name='city_post_type[]']").each(function(){jQuery(this).attr("checked")&&(a=1)});var r=0;return""==e?(jQuery("#admin_country_id").addClass("form-invalid"),r=1):jQuery("#admin_country_id").removeClass("form-invalid"),""==t?(jQuery("#admin_zones_id").addClass("form-invalid"),r=1):jQuery("#admin_zones_id").removeClass("form-invalid"),""==i?(jQuery("#admin_city_name").addClass("form-invalid"),r=1):jQuery("#admin_city_name").removeClass("form-invalid"),0==a?(jQuery("#admin_post_type").addClass("form-invalid"),r=1):jQuery("#admin_post_type").removeClass("form-invalid"),1==r?!1:!0}jQuery(document).ready(function(){jQuery("#directorytab").click(function(){jQuery("#directory_location_navigation").toggleClass("horizontal_open"),jQuery("#horizontal_show_togglebox-button").toggleClass("horizontal_open"),jQuery("#directorytab").toggleClass("directorytab_open")})}),jQuery(document).ready(function(){jQuery("#directorytab").click(function(){jQuery("#directorytab").toggleClass("temp-zindex"),jQuery("body").toggleClass("overlay-dark")}),jQuery(".exit-selection").click(function(){jQuery("#directorytab").removeClass("temp-zindex"),jQuery("body").removeClass("overlay-dark"),jQuery("#directory_location_navigation").removeClass("horizontal_open"),jQuery("#directorytab").removeClass("directorytab_open")}),jQuery("html").keydown(function(e){27==e.which&&(jQuery("#directorytab").removeClass("temp-zindex"),jQuery("body").removeClass("overlay-dark"),jQuery("#directory_location_navigation").removeClass("horizontal_open"),jQuery("#directorytab").removeClass("directorytab_open"))})}),jQuery(document).ready(function(){var e=null;jQuery("#directorytab").click(function(){"location_aslink"==jQuery("#loc_city_link").attr("data-location")&&(jQuery("#location_loading").show(),e=jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=tev_ajax_headerlocation",beforeSend:function(){null!=e&&e.abort()},success:function(e){jQuery("#location_loading").hide(),jQuery("#horizontal_header_location").html(e)}}))})}),jQuery(document).ready(function(){jQuery("#header_country").change(function(){jQuery("#location_loading").show();var e=jQuery("#header_country").val();jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=fill_states_cmb&country_id="+e+"&front=1&header=1",success:function(e){if(e=e.split("++"),jQuery("#header_zone").html(e[0]),jQuery("#header_city").html(e[1]),""!=jQuery("select#header_zone option:selected").val())jQuery("select#header_zone option:selected").prop("selected",!1);else{var t=jQuery("#header_zone option").first();jQuery("#header_zone + span.select").text(t.text());var i=jQuery("#header_city option").first();jQuery("#header_city + span.select").text(i.text())}jQuery("#location_loading").hide()}})}),jQuery("#header_zone").change(function(){jQuery("#location_loading").show();var e=jQuery("#header_zone").val();jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=fill_city_cmb&state_id="+e+"&front=1",success:function(e){if(jQuery("#header_city").html(e),jQuery(".horizontal_location_nav select#header_city").trigger("change"),""!=jQuery("select#header_city option:selected").val())jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=tmpl_change_multicity_form_actoin&city_id="+jQuery("select#header_city option:selected").val(),success:function(e){jQuery("#multicity_form").attr("action",e),jQuery("#multicity_form").submit()}});else{var t=jQuery("#header_city option").first();jQuery("#header_city + span.select").text(t.text())}jQuery("#location_loading").hide()}})}),jQuery("#header_city").change(function(){""!=jQuery(this).val()&&jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=tmpl_change_multicity_form_actoin&city_id="+jQuery("select#header_city option:selected").val(),success:function(e){jQuery("#multicity_form").attr("action",e),jQuery("#multicity_form").submit()}})}),jQuery(".adv_country").live("change",function(){var e=jQuery(this),t=e.parents(".form_front_style").find(".adv_zone"),i=e.parents(".form_front_style").find(".adv_city"),a=jQuery(this).val();jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=fill_states_cmb&country_id="+a+"&front=1&header=1",success:function(e){if(e=e.split("++"),t.html(e[0]),""!=t.find("option:selected").val())t.trigger("change"),i.trigger("change"),t.find("option:selected").prop("selected",!1);else{var a=t.find("option").first();t.next("span.select").text(a.text());var r=i.find("option").first();i.next("span.select").text(r.text())}}})}),jQuery(".adv_zone").live("change",function(){var e=jQuery(this),t=e.parents(".form_front_style").find(".adv_city"),i=jQuery(this).val();jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=fill_city_cmb&state_id="+i,success:function(e){if(t.html(e),t.trigger("change"),""!=t.find("option:selected").val())t.trigger("change");else{var i=t.find("option").first();t.next("span.select").text(i.text())}}})}),jQuery("#widget_country").change(function(){var e=jQuery("#widget_country").val();jQuery.ajax({url:ajaxUrl,type:"POST",async:!0,data:"action=fill_states_cmb&country_id="+e+"&front=1",success:function(e){if(jQuery("#widget_zone").html(e),""!=jQuery("select#widget_zone option:selected").val())jQuery(".widget_location_nav select").trigger("change"),jQuery("select#widget_zone option:selected").prop("selected",!1);else{var t=jQuery("#widget_zone option").first();jQuery("#widget_zone + span.select").text(t.text());var i=jQuery("#widget_city option").first();jQuery("#widget_city + span.select").text(i.text())}}})}),jQuery("#widget_zone").change(function(){var e=jQuery("#widget_zone").val();jQuery.ajax({url:ajaxUrl,type:"POST",async:!0,data:"action=fill_city_cmb&state_id="+e+"&front=1",success:function(e){jQuery("#widget_city").html(e),jQuery(".widget_location_nav select#widget_city").trigger("change"),""!=jQuery("select#widget_city option:selected").val()&&jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=tmpl_change_multicity_form_actoin&city_id="+jQuery("select#widget_city option:selected").val(),success:function(e){jQuery("#widget_multicity_form").attr("action",e),jQuery("#widget_multicity_form").submit()}})}})}),jQuery("#widget_multicity_form #widget_city").change(function(){""!=jQuery(this).val()&&jQuery.ajax({url:ajaxUrl,type:"POST",data:"action=tmpl_change_multicity_form_actoin&city_id="+jQuery("select#widget_city option:selected").val(),success:function(e){jQuery("#widget_multicity_form").attr("action",e),jQuery("#widget_multicity_form").submit()}})}),jQuery("input[name='geoip_location_tracking']").on("change",function(e){jQuery("input[name='geoip_location_tracking']").each(function(){jQuery(this).attr("checked")&&"maxmind"==jQuery(this).val()?jQuery(".maxmind_description").css("display","block"):jQuery(".maxmind_description").css("display","none")})}),jQuery("a.left-off-canvas-toggle").click(function(){jQuery("span.toggle_handler").toggleClass("menu-show")}),jQuery("a.exit-off-canvas").click(function(){jQuery("span.toggle_handler").toggleClass("menu-show")})});